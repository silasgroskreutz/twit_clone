{% extends 'base.html' %} {% block head_title %} this is amazing!! {% endblock
head_title%} {% block content %} Welcome to Tweet_clone

<div id="tweets">
  loading...
</div>

<script>
  // const tweetsElement = document.getElementById('tweets');
  // tweetsElement.innerHTML = 'loading...';

  // let el1 = '<h1>Hi There 1</h1>';
  // let el2 = '<h1>Hi There 2</h1>';
  // let el3 = '<h1>Hi There 3</h1>';
  // tweetsElement.innerHTML = el1 + el2 + el3;

  const xhr = new XMLHttpRequest();
  const method = 'GET'; //
  const url = '/tweets';
  const responseType = 'json';

  xhr.responseType = responseType;
  xhr.open(method, url);
  xhr.onload = function () {
    const serverResponse = xhr.response;
    const listedItems = xhr.response.response;
    let finalTweetStr = '';
    let i;
    for (i = 0; i < listedItems.length; i++) {
      console.log(i);
      let currentItem = "<div class='mb-4'><h1>" + listedItems[i].id + '</h1>' + '<p>' + listedItems[i].content + "</p></div>";
        let finalTweetStr += currentItem;
    }
    tweetsElement.innerHTML = finalTweetStr;
  };
  xhr.send();
</script>
{% endblock content %}
